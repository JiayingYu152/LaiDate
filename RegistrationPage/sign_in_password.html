<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign in</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="registration_page.css" />
    <script src="../data/rotating-logo.js" defer></script>
  </head>
  <body>
    <div class="sign-in-enter-password-page-for-css-adjustment-only">
      <div class="registration-page-container">
        <div class="registration-page-left-component">
          <form
            id="passwordForm"
            action="/login"
            method="post"
            class="registration_page-form-container"
          >
            <h2>Sign in</h2>
            <div class="username-holder">
              <span>username-placeholder</span>
              <a href="sign_in.html">Change</a>
            </div>
            <div class="form-input-area">
              <div class="password-row">
                <label for="password">Password</label>
                <a>Forgot your password?</a>
              </div>
              <input type="password" id="password" name="password" required />
            </div>
            <button type="submit" class="login-submit-button">Sign in</button>
            <div class="keep-me-signed-in-row">
              <input type="checkbox" id="keepSignedInBox" name="keepSignedIn" />
              <label for="keepSignedIn">Keep me signed in.</label>
              <a href="#!" id="detailsModal">Details</a>
            </div>
            <div
              id="clickDetailsModal"
              class="click-details-modal"
              style="display: none"
            >
              <div class="modal-content">
                <div class="modal-header">
                  <h3 class="modal-title">"Keep Me Signed In" Checkbox</h3>
                  <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                  <p>
                    Choosing "Keep me signed in" reduces the number of times
                    you're asked to Sign-In on this device.
                  </p>
                  <p>
                    To keep your account secure, use this option only on your
                    personal devices.
                  </p>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div
          id="sign-in-password-page-registration-page-right-component"
          class="registration-page-right-component"
        >
          <rotating-logo style="border: none"></rotating-logo>
        </div>
      </div>
    </div>
  </body>
  <footer></footer>
  <script>
    // for detail-modal display block(yes) and none
    document.getElementById("detailsModal").onclick = function () {
      document.getElementById("clickDetailsModal").style.display = "block";
    };
    document.getElementsByClassName("close")[0].onclick = function () {
      document.getElementById("clickDetailsModal").style.display = "none";
    };
    //when click other areas, close the modal automatically
    window.onclick = function (event) {
      var modal = document.getElementById("clickDetailsModal");
      if (event.target == modal) {
        modal.style.display = "none";
      }
    };

    // fetch the shared footer section here for both sign-in and sign-up page
    fetch("registration_page_footer.html")
      .then((response) => response.text())
      .then((data) => {
        document.querySelector("footer").innerHTML = data;
      });

    //redirect to main page when click the rotating logo
    document.addEventListener("DOMContentLoaded", function () {
      const rotatingLogo = document.getElementById(
        "sign-in-password-page-registration-page-right-component"
      );
      if (rotatingLogo) {
        rotatingLogo.addEventListener("click", function () {
          window.location.href = "../main.html";
        });
      } else {
        console.log("rotatingLogo is not found");
      }
    });
  </script>
</html>
